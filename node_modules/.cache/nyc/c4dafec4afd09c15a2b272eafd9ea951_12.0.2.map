{"version":3,"file":"/Users/carlosbuendia/Documents/Projects/consensys/Frontier/clean/trl-api/src/services/schema.ts","sources":["/Users/carlosbuendia/Documents/Projects/consensys/Frontier/clean/trl-api/src/services/schema.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,iDAAiE;AACjE,mDAA2C;AAC3C,6EAAiE;AACjE,6CAAiD;AACjD,uDAA2D;AAC3D,+CAAmD;AACnD,uEAAuE;AACvE,4BAA4B;AAE5B,MAAM,YAAY,GAAG,CAAO,WAAgB,EAAE,EAAE;IAC9C,MAAM,8BAA8B,GAAG,MAAM,+BAAgB,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC;IAChG,MAAM,aAAa,GAAG,MAAM,eAAgB,CAAC,WAAW,CAAC,eAAe,CAAC,CAAC;IAC1E,MAAM,kBAAkB,GAAG,MAAM,oBAAqB,CAAC,WAAW,CAAC,oBAAoB,CAAC,CAAC;IACzF,MAAM,cAAc,GAAG,MAAM,gBAAiB,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;IAE7E,MAAM,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC;QACxB,8BAA8B;QAC9B,aAAa;QACb,kBAAkB;QAClB,cAAc;QACd,4BAA0B;KAC3B,CAAe,CAAC;IAEjB,OAAO,oCAAoB,CAAC,EAAE,QAAQ,EAAR,mBAAQ,EAAE,SAAS,EAAE,CAAC,CAAC;AACvD,CAAC,CAAA,CAAC;AAEF,kBAAe,YAAY,CAAC","sourcesContent":["import { makeExecutableSchema, IResolvers } from 'graphql-tools';\nimport typeDefs from './schemas/typesDefs';\nimport getResolverOwned from './resolvers/ownedRegistryContract';\nimport getResolverVotes from './resolvers/votes';\nimport getResolverCandidates from './resolvers/candidates';\nimport getResolverVoters from './resolvers/voters';\nimport graphqlAgainstWeb3Resolver from './resolvers/graphqlAgainstWeb3'\nimport * as _ from 'lodash';\n\nconst createSchema = async (collections: any) => {\n  const ownedRegistryContractResolvers = await getResolverOwned(collections.candidatesCollection);\n  const votesResolver = await getResolverVotes(collections.votesCollection);\n  const candidatesResolver = await getResolverCandidates(collections.candidatesCollection);\n  const votersResolver = await getResolverVoters(collections.votersCollection);\n\n  const resolvers = _.merge([\n    ownedRegistryContractResolvers,\n    votesResolver,\n    candidatesResolver,\n    votersResolver,\n    graphqlAgainstWeb3Resolver\n  ]) as IResolvers;\n\n  return makeExecutableSchema({ typeDefs, resolvers });\n};\n\nexport default createSchema;\n"]}